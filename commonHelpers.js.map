{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default getImages;\n\nfunction getImages(query) {\n  const BASE_URL = 'https://pixabay.com/';\n  const END_POINT = 'api/';\n  const headers = {};\n  const params = new URLSearchParams({\n    key: '11118529-f58244b993118eb30b9529deb',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 21,\n  });\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n  return fetch(url, { headers }).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export default createMarkup;\n\nfunction createMarkup(galleryItems) {\n  return galleryItems\n    .map(\n      ({\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        largeImageURL,\n      }) => {\n        return `<li class=\"gallery-item\">\n          <div class=\"gallery-item-image\">\n          <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" /></a>\n          </div>\n          <ul class=\"image-details\">\n            <li class=\"image-details-item\">\n              <h2 class=\"image-details-title\">Likes</h2>\n              <p class=\"image-details-value\">${likes}</p>\n            </li>\n            <li class=\"image-details-item\">\n              <h2 class=\"image-details-title\">Views</h2>\n              <p class=\"image-details-value\">${views}</p>\n            </li>\n            <li class=\"image-details-item\">\n              <h2 class=\"image-details-title\">Comments</h2>\n              <p class=\"image-details-value\">${comments}</p>\n            </li>\n            <li class=\"image-details-item\">\n              <h2 class=\"image-details-title\">Downloads</h2>\n              <p class=\"image-details-value\">${downloads}</p>\n            </li>\n          </ul>\n        </li>`;\n      }\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport getImages from './js/pixabay-api.js';\nimport createMarkup from './js/render-functions';\n\nconst galleryRenderer = {\n  form: document.querySelector('.search-form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\ngalleryRenderer.form.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  galleryRenderer.gallery.innerHTML = '';\n\n  const searchQuery = e.target.elements['search-input'].value\n    .trim()\n    .toLowerCase();\n\n  if (!searchQuery) {\n    iziToast.show({\n      message: '❌ Please enter a search query',\n      color: 'red',\n      position: 'topRight',\n      timeout: 2000,\n      progressBar: false,\n    });\n  } else {\n    galleryRenderer.form.reset();\n    galleryRenderer.loader.classList.add('is-open');\n    getImages(searchQuery)\n      .then(data => {\n        if (!data.hits.length) {\n          galleryRenderer.loader.classList.remove('is-open');\n          iziToast.show({\n            message:\n              '❌ Sorry, there are no images matching your search query. Please try again!',\n            color: 'red',\n            position: 'topRight',\n            timeout: 2000,\n            progressBar: false,\n          });\n        } else {\n          galleryRenderer.loader.classList.remove('is-open');\n          const markup = createMarkup(data.hits);\n          const lightbox = new SimpleLightbox('.gallery-item-image a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n          });\n          galleryRenderer.gallery.insertAdjacentHTML('beforeend', markup);\n\n          lightbox.refresh();\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n}\n"],"names":["getImages","query","BASE_URL","END_POINT","headers","params","url","response","createMarkup","galleryItems","webformatURL","tags","likes","views","comments","downloads","largeImageURL","galleryRenderer","onSubmit","e","searchQuery","data","iziToast","markup","lightbox","SimpleLightbox","error"],"mappings":"6vBAEA,SAASA,EAAUC,EAAO,CACxB,MAAMC,EAAW,uBACXC,EAAY,OACZC,EAAU,CAAA,EACVC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGJ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EACKK,EAAM,GAAGJ,CAAQ,GAAGC,CAAS,IAAIE,CAAM,GAC7C,OAAO,MAAMC,EAAK,CAAE,QAAAF,CAAO,CAAE,EAAE,KAAKG,GAAY,CAC9C,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCnBA,SAASC,EAAaC,EAAc,CAClC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,cAAAC,CACR,IACe;AAAA;AAAA,qBAEMA,CAAa,eAAeN,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+CAK5BC,CAAK;AAAA;AAAA;AAAA;AAAA,+CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,+CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,+CAIRC,CAAS;AAAA;AAAA;AAAA,cAKnD,EACA,KAAK,EAAE,CACZ,CCjCA,MAAME,EAAkB,CACtB,KAAM,SAAS,cAAc,cAAc,EAC3C,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAgB,KAAK,iBAAiB,SAAUC,CAAQ,EAExD,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAChBF,EAAgB,QAAQ,UAAY,GAEpC,MAAMG,EAAcD,EAAE,OAAO,SAAS,cAAc,EAAE,MACnD,KAAM,EACN,cAEEC,GASHH,EAAgB,KAAK,QACrBA,EAAgB,OAAO,UAAU,IAAI,SAAS,EAC9CjB,EAAUoB,CAAW,EAClB,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OACbJ,EAAgB,OAAO,UAAU,OAAO,SAAS,EACjDK,EAAS,KAAK,CACZ,QACE,6EACF,MAAO,MACP,SAAU,WACV,QAAS,IACT,YAAa,EACzB,CAAW,MACI,CACLL,EAAgB,OAAO,UAAU,OAAO,SAAS,EACjD,MAAMM,EAASf,EAAaa,EAAK,IAAI,EAC/BG,EAAW,IAAIC,EAAe,wBAAyB,CAC3D,aAAc,MACd,aAAc,GAC1B,CAAW,EACDR,EAAgB,QAAQ,mBAAmB,YAAaM,CAAM,EAE9DC,EAAS,QAAO,CACjB,CACT,CAAO,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAO,GApCHJ,EAAS,KAAK,CACZ,QAAS,gCACT,MAAO,MACP,SAAU,WACV,QAAS,IACT,YAAa,EACnB,CAAK,CAgCL"}